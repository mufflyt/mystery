% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/results_section_wait_time_median_stats.R
\name{results_section_wait_time_median_stats}
\alias{results_section_wait_time_median_stats}
\title{Generate Wait Time Statistics and Summary Sentences with Logging and Error Handling}
\usage{
results_section_wait_time_median_stats(
  appointment_data,
  wait_time_col = "business_days_until_appointment",
  group_var = NULL,
  round_digits = 1
)
}
\arguments{
\item{appointment_data}{A data frame containing appointment wait time data.}

\item{wait_time_col}{Character string; the name of the column representing wait time in business days.}

\item{group_var}{Character string; the name of the column to group by for grouped statistics (e.g., "Subspecialty").
If NULL, only overall statistics are calculated.}

\item{round_digits}{Integer; number of decimal places to round Q1 and Q3 values.}
}
\value{
A data frame with calculated statistics and summary sentences.
}
\description{
This function calculates the median wait time, 25th percentile (Q1), and 75th percentile (Q3)
for the \code{business_days_until_appointment} column both overall and grouped by a specified variable.
It logs each step to the console and includes error handling to ensure robustness.
}
\examples{
# Example 1: Basic usage with overall statistics only
appointment_data <- data.frame(
  business_days_until_appointment = c(5, 10, 15, 20, 25, 30, 35, 40),
  Subspecialty = c("Pediatric Dermatology", "General Dermatology", "General Dermatology", "Pediatric Dermatology",
                   "Pediatric Dermatology", "General Dermatology", "Pediatric Dermatology", "General Dermatology")
)
results_section_wait_time_median_stats(
  appointment_data = appointment_data,
  wait_time_col = "business_days_until_appointment",
  round_digits = 1
)
# Expected output:
#   Group    median_wait_time  wait_time_q1  wait_time_q3
#  "Overall"    22.5              13.75        31.25
#  summary_sentence: "The overall median wait time was 22.5 business days (IQR: 13.75–31.25)."

# Example 2: Grouped statistics by Subspecialty with specific rounding
results_section_wait_time_median_stats(
  appointment_data = appointment_data,
  wait_time_col = "business_days_until_appointment",
  group_var = "Subspecialty",
  round_digits = 1
)
# Expected output:
#   Group                 median_wait_time  wait_time_q1  wait_time_q3
#  "Overall"                 22.5              13.75        31.25
#  "Pediatric Dermatology"    20.0              11.25        28.75
#  "General Dermatology"      25.0              17.5         32.5
#  summary_sentence for each group: "For Pediatric Dermatology, the median wait time was 20 business days (IQR: 11.25–28.75)."

# Example 3: Handling missing data and non-numeric columns gracefully
appointment_data_missing <- data.frame(
  business_days_until_appointment = c(5, NA, 15, 20, NA, 30, 35, 40),
  Subspecialty = c("Pediatric Dermatology", "General Dermatology", "General Dermatology", "Pediatric Dermatology",
                   "Pediatric Dermatology", "General Dermatology", "Pediatric Dermatology", "General Dermatology")
)
results_section_wait_time_median_stats(
  appointment_data = appointment_data_missing,
  wait_time_col = "business_days_until_appointment",
  group_var = "Subspecialty",
  round_digits = 1
)
# Expected output:
#   Group                 median_wait_time  wait_time_q1  wait_time_q3
#  "Overall"                 22.5              15            32.5
#  "Pediatric Dermatology"    27.5              20            35
#  "General Dermatology"      25.0              15            30
#  summary_sentence for each group: "For General Dermatology, the median wait time was 25 business days (IQR: 15–30)."

}
